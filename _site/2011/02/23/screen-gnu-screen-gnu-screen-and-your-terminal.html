<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <link rel="stylesheet" href="/stylesheets/flooose.css" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Goudy+Bookletter+1911&v1' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Quattrocento' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title></title>
    </head>
    <body>
      <div id="container" class="container">
	<div id='header' class="header">
	  <h1 id="h1-page-title" class="page-title">flooose.github.com</h1>
	  <h2 id="h2-page-title" class="page-title">A linux and open source page</h2>
	</div>
	<br />
	<div id="content" class="content">
          <h2>Hands off! An attempt at a mouseless work-flow with Gnu Screen</h2>
<p class="section-title">What&#8217;s screen? Why this tutorial?</p>
<p>Screen is a program that brings the idea of windows to the console/terminal. The man page states that &#8216;Screen  is  a full-screen window manager&#8230;&#8217;, but for the purposes of this experiment, it&#8217;s enough to know that it has the concept of windows and that once started, gnu screen can be disconnected from and reconnnected to at will, with previously running programs left uninterrupted.</p>
<p>Perhaps the most immediate motivation for using screen, is that it can be started remotely, where the previously mentioned features can be taken advantage of to allow one to start long running programs without the risk of having them killed by the system once the network connection with the server is broken.</p>
<p>Here&#8217;s a sample of what screen session on a remote server might look like:</p>
<div class="code">
<pre><code>[my_computer] $ ssh someserver.com
[their_puter] $ screen
[their_puter] $ rake import:really:huge:db_dump
starting import of 1.5 GB sql dump
 ^A ^D
[detached]
[their_puter] $ exit
Connection to someserver.com closed
[my_computer] $</code></pre>
</div>
<p>&#8230;time passes&#8230;</p>
<div class="code">
<pre><code>[my_computer] $ ssh someserver.com
[their_puter] $ screen -r
[their_puter] $ rake import:really:huge:db_dump
starting import of 1.5 GB sql dump
finished import of 1.5 GB sql dump. Took 15 hours.
[their_puter] $</code></pre>
</div>
<p>The motivation for this experiment came simply after discovering screen and wondering if I could eliminate reaching for the mouse while I&#8217;m programing. I don&#8217;t use the mouse much to begin with and I find that it interrupts my work flow when I do have to reach for it.</p>
<p class="section-title">Next steps, going beyond the basics.</p>
<p>The sample session above is dead simple. I learned it the first day and although it solved a concrete problem for me, it didn&#8217;t get me far beyond wondering IF it could be used in terms of this experiment. So what&#8217;s the next step?</p>
<p>Well what I mainly do in the terminal is run programs and watch output (e.g. log files). My editor is usually in another window and that can be switched to with <code>alt + tab</code>, so if you&#8217;re running a program in your screen session, then you can&#8217;t tail a log file at the same time, right?</p>
<p class="section-title">Windows</p>
<p>This is where screen&#8217;s ability to manage windows comes in. In screen you can get another window by pressing <code>^a ^c</code>. <code>^a ^n</code> and <code>^a ^p</code> can<br />
be used to cycle backward and forward through the windows. On the one hand this does solve the problem of doing two things within one screen<br />
session, but most terminal programs have tabbing capabilities and ways of cycing through those tabs without using the mouse. So does screen<br />
offer anything to sweeten the deal?</p>
<p>Well for starters, a screen window can be split, i.e. two windows are displayed at the same time, meaning that you can input commands on one<br />
side and, for instance, tail that log on the other side.</p>
<p>Pretty sweet. I know that other terminal emulators offer this too, but it&#8217;s nice to see that screen offers this as well as things that other<br />
terminals don&#8217;t. The experiment goes on</p>
<p class="section-title">Some configuration</p>
<p>I discovered something else. Screen is pretty configurable. For instance, you don&#8217;t really get an overview of your windows as you create them<br />
in screen. This can be a little disorienting as you start getting comfortable using it and start opening more than just one second window.<br />
Luckily I found this config:</p>
<pre><code>$ cat ~/.screenrc
hardstatus alwayslastline
hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{=kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B}%Y-%m-%d %{W}%c %{g}]'
$</code></pre>
<p>This will get you something like this at the bottom of each one of your screen windows</p>
<pre><code>[ (none) ][            0$ bash  1$ bash  2-$ bash  (3*$bash)                 ][2011-03-07 18:16 ]</code></pre>
<p>It&#8217;s easy to see that this is more or less the equivalent of a console based windows panel. In the middle you see that there art four (bash)<br />
windows and that <code>(3*$bash)</code> is the active one. You even get a clock on the right.</p>
<p class="section-title">Working with the console output</p>
<p>I mentioned above that I mainly run programs and tail log file in the terminal. At this point I know how to do both at the same time in one<br />
screen session by taking advantage of its windowing functionality, but I quickly realized that this came at a cost: scrolling with the mouse<br />
ceases to work.</p>
<p>This is probably the one thing that I did enjoy doing with the mouse. Scrolling up and down through the terminal with the flip of a finger<br />
is always pretty satisfying for me, so I guess it never really felt like something that affected my work flow. Now that I was without it, it<br />
felt like something was missing.</p>
<p>By pressing <code>^a ^[</code> you enter &#8216;copy&#8217; mode in screen, which allows you to navigate the screen content as if it were a vim or emacs buffer,<br />
in fact, you even navigate the buffer with vim key bindings (i.e. h,j,k,l). After navigating to your desired part of the buffer, <code>space</code><br />
activates highlighting. You then navigate to another part of the buffer, press <code>space</code> again, and you&#8217;ve got everything in the highlighted<br />
reqion copied. Now pressing <code>^a^]</code> in any program in any window within your screen session (mutt, ttytter, emacs, vim, etc.) pastes the<br />
content.</p>
<p>Once I overcame the inertia of trying to scroll with the mouse, I actually to took to this part of screen pretty well. It seems sort of<br />
clunky at first, but I quickly took copying stuff form one window to another for granted.</p>
<p>In practice though, I quickly took to it. This was mainly because the shock of not being able to scroll with the ease of a flick of a finger<br />
on the mouse was replaced by some great advantages. For instance, I was able to navigate through the scroll back history with k (aka a vi<br />
navigation), set a mark with the space bar, scroll further back or forward with &#8216;k&#8217; or &#8216;j&#8217; respectively, and hit the space bar again to copy<br />
the text a buffer that could be pasted into any of the other screen windows, including emacs or vim sessions within these windows.</p>
	</div>
	<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'flooose'; // required: replace example with your forum shortname

    // The following are highly recommended additional parameters. Remove the slashes in front to use.
    // var disqus_identifier = '/2011/02/23/screen-gnu-screen-gnu-screen-and-your-terminal.html';
    // var disqus_url = '/2011/02/23/screen-gnu-screen-gnu-screen-and-your-terminal.html';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
	<div id="footer" class="footer">
	</div>
      </div>
    </body>
</html>
